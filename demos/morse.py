
MORSE = "MORSE"
TEXTE = "TEXTE"
ALPHABET_MORSE = {
  'a': '.-',
  'b': '-...',
  'c': '-.-.',
  'd': '-..',
  'e': '.',
  'f': '..-.',
  'g': '--.',
  'h': '....',
  'i': '..',
  'j': '.---',
  'k': '-.-',
  'l': '.-..',
  'm': '--',
  'n': '-.',
  'o': '---',
  'p': '.--.',
  'q': '--.-',
  'r': '.-.',
  's': '...',
  't': '-',
  'u': '..-',
  'v': '...-',
  'w': '.--',
  'x': '-..-',
  'y': '-.--',
  'z': '--..',
  '1': '.----',
  '2': '..---',
  '3': '...--',
  '4': '....-',
  '5': '.....',
  '6': '-....',
  '7': '--...',
  '8': '---..',
  '9': '----.',
  '0': '-----',

  'ß': '...--..',
  '.': '.-.-.-',
  ',': '--..--',
  ':': '---...',
  ';': '-.-.-.',
  '?': '..--..',
  '!': '-.-.--',
  '-': '-....-',
  '_': '..--.-',
  '(': '-.--.',
  ')': '-.--.-',
  '\'': '.----.',
  '=': '-...-',
  '+': '.-.-.',
  '/': '-..-.',
  '@': '.--.-.',
  '&': '.-...',
  '"': '.-..-.',
  '¿': '..-.-',
  '¡': '--...-',
  '$': '...-..-'
}
MORSE_ALPHABET = { ALPHABET_MORSE[key]: key for key in ALPHABET_MORSE }

print(MORSE_ALPHABET)

def convert(text, source=TEXTE):
  text = text.encode('ascii', 'ignore').decode('utf8').casefold().lower()

  resultat = ""

  if source == TEXTE:
    for i in text:
      if i in ALPHABET_MORSE:
        resultat += ALPHABET_MORSE[i] + " "
      elif i == " ":
        resultat += "/ "
      else:
        resultat += ALPHABET_MORSE['?'] + " "
  elif source == MORSE:
    tampon = ""

    for i in text:

      if i == " ":
        if len(tampon) > 0:
          resultat += MORSE_ALPHABET[tampon] if tampon in MORSE_ALPHABET else "?"
          tampon = ""
      elif i == "/":
        resultat += " "
      else:
        tampon += i
  
  return resultat


print(convert("Hello, world!"))
print(convert(".... . .-.. .-.. --- --..-- / .-- --- .-. .-.. -.. -.-.--", source=MORSE))
print(convert("-- --- .-. ... . / -.-. --- -.. . / .. ... / .- / -.-. .... .- .-. .- -.-. - . .-. -....- . -. -.-. --- -.. .. -. --. / ... -.-. .... . -- . / - .... .- - / .- .-.. .-.. --- .-- ... / --- .--. . .-. .- - --- .-. ... / - --- / ... . -. -.. / -- . ... ... .- --. . ... / ..- ... .. -. --. / .- / ... . .-. .. . ... / --- ..-. / . .-.. . -.-. - .-. .. -.-. .- .-.. / .--. ..- .-.. ... . ... / .-. . .--. .-. . ... . -. - . -.. / .- ... / ... .... --- .-. - / --- .-. / .-.. --- -. --. / .--. ..- .-.. ... . ... --..-- / -.. --- - ... --..-- / .- -. -.. / -.. .- ... .... . ... .-.-.-", source=MORSE))